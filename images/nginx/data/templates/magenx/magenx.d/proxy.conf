# Do not edit this file directly
# Editing this file manually might break system, update your configuration file instead. (e.g .docker/config.env)
# --------------------------------

try_files      $uri =404;
fastcgi_pass   $my_fastcgi_pass;

fastcgi_param  PHP_FLAG  "session.auto_start=off \n suhosin.session.cryptua=off";
fastcgi_param  PHP_VALUE "memory_limit=756M \n max_execution_time=18000";
fastcgi_param  PHP_VALUE "auto_prepend_file=$MAGE_ROOT/magento-vars.php";
fastcgi_param  MAGE_MODE $MAGE_MODE;

# Tuning for FastCGI and Nginx
fastcgi_ignore_client_abort  on;
fastcgi_buffer_size          128k;
fastcgi_buffers              4 256k;
fastcgi_busy_buffers_size    256k;
fastcgi_temp_file_write_size 256k;
proxy_buffer_size            128k;
proxy_buffers                4 256k;
proxy_busy_buffers_size      256k;
fastcgi_send_timeout         600;
fastcgi_read_timeout         600;
fastcgi_connect_timeout      600;

# Magento uses the HTTPS env var to detrimine if it is using SSL or not.
fastcgi_param  HTTPS $my_ssl;

fastcgi_index  index.php;
fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
include        fastcgi_params;

include /etc/nginx/extra.d/APPNAME.location.proxy.*.conf;